(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{3116:(e,s,r)=>{Promise.resolve().then(r.bind(r,9349))},5695:(e,s,r)=>{"use strict";var l=r(8999);r.o(l,"useRouter")&&r.d(s,{useRouter:function(){return l.useRouter}})},8953:(e,s,r)=>{"use strict";r.d(s,{N:()=>t});var l=r(851);let o="https://dtkyyrpfrsrfuulcjzxw.supabase.co";if(!o)throw Error("NEXT_PUBLIC_SUPABASE_URL is not defined");let a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR0a3l5cnBmcnNyZnV1bGNqenh3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzODIyOTUsImV4cCI6MjA1OTk1ODI5NX0.XkR0diH_eJFH5OMhsbdjAyZwoeuOsqLbxURDfQCEJv0";if(!a)throw Error("NEXT_PUBLIC_SUPABASE_ANON_KEY is not defined");let t=(0,l.UU)(o,a)},9349:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var l=r(5155),o=r(2115),a=r(8953),t=r(5695);function n(){let e=(0,t.useRouter)(),[s,r]=(0,o.useState)({email:"",password:"",phoneNumber:"",schoolName:""}),[n,d]=(0,o.useState)(!1),[m,u]=(0,o.useState)(null),[i,c]=(0,o.useState)(!1),b=e=>{let{name:s,value:l}=e.target;r(e=>({...e,[s]:l}))},h=async r=>{if(r.preventDefault(),d(!0),u(null),c(!1),!s.email||!s.password||!s.phoneNumber||!s.schoolName){u("모든 필드를 입력해주세요."),d(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){u("올바른 이메일 형식이 아닙니다."),d(!1);return}if(!/^[0-9\-\s]+$/.test(s.phoneNumber)){u("전화번호는 숫자, - 만 입력 가능합니다."),d(!1);return}try{let{data:r,error:l}=await a.N.auth.signUp({email:s.email,password:s.password,options:{data:{phone_number:s.phoneNumber,school_name:s.schoolName}}});if(l)throw l;c(!0),setTimeout(()=>{e.push("/")},5e3)}catch(e){console.error("회원가입 오류:",e),u(e.message||"회원가입 중 오류가 발생했습니다.")}finally{d(!1)}};return(0,l.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4",children:(0,l.jsxs)("form",{onSubmit:h,className:"w-full max-w-md rounded-lg bg-white p-8 shadow-lg",children:[(0,l.jsx)("h2",{className:"mb-6 text-2xl font-bold text-gray-900",children:"회원가입"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"email",className:"mb-2 block text-sm font-medium text-gray-700",children:"이메일"}),(0,l.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full rounded border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none",value:s.email,onChange:b,placeholder:"your@email.com"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-gray-700",children:"비밀번호"}),(0,l.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"w-full rounded border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none",value:s.password,onChange:b,placeholder:"비밀번호 (6자 이상)"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"phoneNumber",className:"mb-2 block text-sm font-medium text-gray-700",children:"전화번호"}),(0,l.jsx)("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",required:!0,className:"w-full rounded border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none",value:s.phoneNumber,onChange:b,placeholder:"010-0000-0000"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"schoolName",className:"mb-2 block text-sm font-medium text-gray-700",children:"소속 (학교/기관명)"}),(0,l.jsx)("input",{id:"schoolName",name:"schoolName",type:"text",required:!0,className:"w-full rounded border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none",value:s.schoolName,onChange:b,placeholder:"소속 학교 또는 기관명"})]}),m&&(0,l.jsx)("div",{className:"mb-4 text-sm text-red-600",children:m}),i&&(0,l.jsxs)("div",{className:"mb-4 p-3 rounded-md text-sm text-green-600 bg-green-50 border border-green-200",children:["회원가입이 완료되었습니다! 이메일을 확인해주세요.",(0,l.jsx)("br",{}),"잠시 후 홈페이지로 이동합니다."]}),(0,l.jsx)("button",{type:"submit",className:"w-full rounded bg-blue-600 py-2 font-semibold text-white hover:bg-blue-700 disabled:opacity-60",disabled:n,children:n?"가입 중...":"회원가입"})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[851,441,684,358],()=>s(3116)),_N_E=e.O()}]);